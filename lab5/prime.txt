.ORIG x3000
AND R1, R1, #0
ADD R2, R1, #2
ADD R1, R1, #1
JSR JUDGE
HALT
JUDGE
ST R7, RETURN
LOOP
JSR POW
NOT R3, R3
ADD R3, R3, #1
ADD R3, R0, R3
BRn OVER
JSR MOD
BRz IsNotPrimer
ADD R2, R2, #1
BR LOOP
IsNotPrimer
AND R1, R1, #0
OVER 
LD R7, RETURN
RET
POW
ADD R6, R2, #0
AND R3, R3, #0
ADD R4, R3, #1
AND R5, R4, R2
BRz #1
ADD R3, R3, R6
ADD R6, R6, R6
ADD R4, R4, R4
BRnp #-6
RET
MOD
NOT R3, R2
ADD R3, R3, #1
AND R4, R4, #0
ADD R4, R4, R3
ADD R5, R4, R0
BRp #-3
RET
RETURN .BLKW #1
.END